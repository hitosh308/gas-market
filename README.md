# Google Apps Script ギャラリー

Google Apps Script (GAS) で作成したスクリプトを紹介するシンプルなカタログサイトです。PHP と JSON ファイルだけで構成されており、データベースを使わずに一覧・詳細表示と管理用の登録画面を提供します。

## 機能

### 利用者向け
- GAS 一覧画面: タグやキーワードでの絞り込み、更新日の表示。
- GAS 詳細画面: 概要、主な機能、タグ、スクリプト/リポジトリへのリンクを掲載。

### 管理者向け
- 管理画面: JSON データに対する新規登録・編集機能。
- ログイン: シンプルなパスワード認証で管理画面を保護。
- 入力補助: タグのカンマ区切り入力や主な機能の複数行入力に対応。

## セットアップ

1. PHP 8 以上が利用可能な環境を用意します。
2. リポジトリをクローンします。
3. 内蔵サーバーで動作確認する場合は次のコマンドを実行します。

```bash
php -S localhost:8080 -t public
```

4. ブラウザーで `http://localhost:8080/index.php` を開くと一覧画面が表示されます。

## 管理画面の利用

- `http://localhost:8080/admin.php` にアクセスして管理画面へ遷移します。
- 初期パスワードは `config/config.php` の `admin_password` で設定されています。実運用前に必ず変更してください。
- 登録フォームでは以下の項目を管理できます。
  - 公開ID (URL用)
  - タイトル・概要・詳細説明
  - 主な機能（複数行入力）
  - タグ（カンマ区切り入力）
  - スクリプト URL / リポジトリ URL
  - 初回公開日・最終更新日

保存すると `data/gas_projects.json` が更新され、一覧と詳細画面へ即時反映されます。

## データ構造

`data/gas_projects.json` は次のような構造の配列です。

```json
[
  {
    "id": "form-automation",
    "title": "フォーム自動回答ワークフロー",
    "summary": "Google フォームの回答を整理し、定型レポートを自動生成するGASです。",
    "description": "...",
    "features": ["機能A", "機能B"],
    "tags": ["フォーム", "自動化"],
    "script_url": "https://script.google.com/...",
    "repository_url": "https://github.com/...",
    "updated_at": "2024-01-15",
    "created_at": "2023-12-10"
  }
]
```

各項目は管理画面から編集できます。`features` は 1 行 1 項目で入力した内容が配列化され、`tags` はカンマ区切りで配列化されます。

## ディレクトリ構成

```
.
├── config          # 設定ファイル (JSON ファイルのパスや管理者パスワード)
├── data            # GAS データの JSON ファイル
├── lib             # データ読み書きやヘルパー関数
├── public          # 公開ディレクトリ (一覧/詳細/管理画面)
└── README.md
```

## 注意事項

- JSON ファイルに書き込み可能な権限が必要です。
- 管理者パスワードは平文で保存されるため、アクセス制限や環境変数の利用などで保護してください。
- 実際の公開環境では HTTPS や追加の認証方式を導入し、セキュリティを強化することを推奨します。
